# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Telegram Emulator Web Interface

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd telegram-emulator

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make install-deps
make install-frontend-deps

# –ó–∞–ø—É—Å–∫ backend –∏ frontend
make dev
```

### 2. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000

## üì± –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ü–æ–∏—Å–∫ —á–∞—Ç–æ–≤

–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —á–∞—Ç–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

1. –í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞
2. –í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –≤–Ω–∏–∑—É
3. –ù–∞–∂–º–∏—Ç–µ Enter –∏–ª–∏ –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

- ‚è≥ **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** - –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- ‚úì **–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ** - —Å–µ—Ä–∞—è –≥–∞–ª–æ—á–∫–∞
- ‚úì‚úì **–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ** - –¥–≤–µ —Å–µ—Ä—ã–µ –≥–∞–ª–æ—á–∫–∏  
- ‚úì‚úì **–ü—Ä–æ—á–∏—Ç–∞–Ω–æ** - –¥–≤–µ —Å–∏–Ω–∏–µ –≥–∞–ª–æ—á–∫–∏

### –ü–∞–Ω–µ–ª—å –æ—Ç–ª–∞–¥–∫–∏

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–ª–∞–¥–∫–∞" –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏ –æ—Ç–ª–∞–¥–∫–∏ —Å:

- **–°–æ–±—ã—Ç–∏—è** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîß API –ü—Ä–∏–º–µ—Ä—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```javascript
import apiService from './services/api';

const newUser = await apiService.createUser({
  username: 'test_user',
  first_name: '–¢–µ—Å—Ç–æ–≤—ã–π',
  last_name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
  is_bot: false
});
```

### –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞

```javascript
const newChat = await apiService.createChat({
  type: 'private',
  title: '–¢–µ—Å—Ç–æ–≤—ã–π —á–∞—Ç',
  user_ids: ['user1_id', 'user2_id']
});
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

```javascript
const message = await apiService.sendMessage(chatId, {
  text: '–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!',
  from_user_id: currentUser.id,
  type: 'text'
});
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞

```javascript
const messages = await apiService.getChatMessages(chatId, 50, 0);
```

## üîå WebSocket –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket

```javascript
import wsService from './services/websocket';

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
await wsService.connect();

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
wsService.on('message', (data) => {
  console.log('–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:', data);
});

wsService.on('chat_update', (data) => {
  console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞:', data);
});
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket

```javascript
wsService.sendMessage(chatId, '–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è', userId);
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```javascript
wsService.updateUserStatus(userId, true); // online
wsService.updateUserStatus(userId, false); // offline
```

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Zustand Store

```javascript
import useStore from './store';

function MyComponent() {
  const {
    currentUser,
    currentChat,
    chats,
    messages,
    debugEvents,
    statistics
  } = useStore();

  // –î–µ–π—Å—Ç–≤–∏—è
  const { setCurrentChat, addMessage, addDebugEvent } = useStore();

  return (
    <div>
      <h1>–ü—Ä–∏–≤–µ—Ç, {currentUser?.first_name}!</h1>
      <p>–ê–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤: {chats.length}</p>
    </div>
  );
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

```javascript
// –í store/index.js
const useStore = create((set, get) => ({
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
  sendMessageWithRetry: async (chatId, text, maxRetries = 3) => {
    const { addMessage, addDebugEvent } = get();
    
    for (let i = 0; i < maxRetries; i++) {
      try {
        const response = await apiService.sendMessage(chatId, { text });
        addMessage(chatId, response.message);
        addDebugEvent({
          id: Date.now().toString(),
          timestamp: new Date().toISOString(),
          type: 'message',
          description: `–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ (–ø–æ–ø—ã—Ç–∫–∞ ${i + 1})`
        });
        return response;
      } catch (error) {
        addDebugEvent({
          id: Date.now().toString(),
          timestamp: new Date().toISOString(),
          type: 'error',
          description: `–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–ø–æ–ø—ã—Ç–∫–∞ ${i + 1}): ${error.message}`
        });
        
        if (i === maxRetries - 1) throw error;
        await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
      }
    }
  }
}));
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã

```css
/* –í tailwind.config.js */
theme: {
  extend: {
    colors: {
      telegram: {
        bg: '#your-color',
        sidebar: '#your-color',
        primary: '#your-color',
        // ...
      }
    }
  }
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

```javascript
// –í MessageBubble.jsx
const getMessageContent = () => {
  switch (message.type) {
    case 'text':
      return <div>{message.text}</div>;
    case 'sticker':
      return (
        <div className="flex items-center space-x-2">
          <div className="w-8 h-8 bg-telegram-secondary rounded flex items-center justify-center">
            üòÄ
          </div>
          <span>–°—Ç–∏–∫–µ—Ä</span>
        </div>
      );
    // –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∑–¥–µ—Å—å
    default:
      return <div>{message.text}</div>;
  }
};
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```javascript
// components/CustomMessage.jsx
import React from 'react';

const CustomMessage = ({ message, isOwn }) => {
  return (
    <div className={`custom-message ${isOwn ? 'own' : 'other'}`}>
      <div className="message-content">
        {message.text}
      </div>
      <div className="message-time">
        {formatTime(message.timestamp)}
      </div>
    </div>
  );
};

export default CustomMessage;
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```javascript
// tests/MessageBubble.test.jsx
import { render, screen } from '@testing-library/react';
import MessageBubble from '../components/MessageBubble';

test('–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è', () => {
  const message = {
    id: '1',
    text: '–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ',
    timestamp: new Date().toISOString(),
    from: { first_name: '–¢–µ—Å—Ç' }
  };

  render(<MessageBubble message={message} isOwn={false} />);
  
  expect(screen.getByText('–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ')).toBeInTheDocument();
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

```javascript
// tests/api.test.js
import apiService from '../services/api';

test('–ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π', async () => {
  const users = await apiService.getUsers();
  expect(Array.isArray(users.users)).toBe(true);
});
```

## üöÄ –ü—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ–π

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
npm run build
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        root /path/to/telegram-emulator/web/dist;
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /ws {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

### Docker –¥–µ–ø–ª–æ–π

```dockerfile
# Dockerfile –¥–ª—è frontend
FROM node:18-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [React Documentation](https://react.dev/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Zustand](https://github.com/pmndrs/zustand)
- [Socket.io Client](https://socket.io/docs/v4/client-api/)
- [Vite](https://vitejs.dev/)
